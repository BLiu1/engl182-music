!function(){"use strict";function e(){return t(document.getElementsByClassName("music"))}function t(e){try{return Array.prototype.slice.call(e)}catch(i){for(var t=0,n=[];t<e.length;t++)n.push(e[t]);return n}}function n(e,t){var n=t||this,i=n.children[0];i.muted=!i.muted;var o=n.children[1];if(o.classList.toggle("cover-on"),o.classList.toggle("cover-off"),!window.firstToggle){document.getElementsByClassName("content")[0].classList.remove("firstToggle");var a=document.getElementById("tip");a.parentNode.removeChild(a);for(var r=document.getElementsByClassName("music"),m=0;m<r.length;m++)r[m].play();c()}window.firstToggle=!0}function i(){for(var e=document.getElementsByClassName("vid-wrapper"),t=0;t<e.length;t++)n(undefined,e[t])}function o(){for(var e=document.getElementsByClassName("vid-wrapper"),t=0;t<e.length;t++){e[t].children[0].muted=!0;var n=e[t].children[1];n.classList.add("cover-on"),n.classList.remove("cover-off")}}function a(e,t){var n=document.getElementsByClassName("music"),i=n[0].paused,t=t||!1;if(i&&!t)for(var o=0;o<n.length;o++)n[o].play();else for(var o=0;o<n.length;o++)n[o].pause();c()}function r(){for(var e=document.getElementsByClassName("music"),t=0;t<e.length;t++)e[t].currentTime=0;c()}function c(){var e=document.getElementsByClassName("music")[0].paused,t=document.getElementById("togglePlayPause").children[0];e?(t.src="img/play.svg",t.alt="Play"):(t.src="img/pause.svg",t.alt="Pause")}function m(e,t){for(var n=.5,i=2,o=0,a=10,r=0;r<t.length;r++){var c=e.currentTime-t[r].currentTime;Math.abs(c)>n&&(t[r].currentTime=e.currentTime);var m=Math.min(Math.max(c*i+e.playbackRate,o),a).toFixed(2);m>.99&&m<1.01&&(m=1),t[r].playbackRate=m}}function l(){if(this.currentTime>=this.duration-.1)for(var e=0;e<u.length;e++)u[e].currentTime=0,u[e].play()}!function(){for(var e=0,t=["webkit","moz","ms","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+i)},i);return e=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var s=function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),!0):e.attachEvent?e.attachEvent("on"+t,n):(t="on"+t,"function"==typeof e[t]&&(n=function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}(e[t],n)),e[t]=n,!0)},u=e(),d=document.getElementsByClassName("vid-wrapper");window.firstToggle=!1,setInterval(function(){m(u[0],u.slice(1,u.length))},100),s(u[0],"timeupdate",l),s(document.getElementById("link"),"click",function(e){a(e,!0)});for(var g=0;g<d.length;g++)s(d[g],"click",n);for(var f=document.getElementsByClassName("control"),g=0;g<f.length;g++)s(f[g],"click",function(){this.blur()});s(document.getElementById("togglePlayPause"),"click",a),s(document.getElementById("restartAll"),"click",r),s(document.getElementById("muteAll"),"click",o),s(document.getElementById("toggleAll"),"click",i);var v=new window.keypress.Listener;v.simple_combo("space",a),v.simple_combo("p",a),v.simple_combo("enter",r),v.simple_combo("r",r),v.simple_combo("m",o),v.simple_combo("s",i),v.simple_combo("t",i),v.simple_combo("i",i),o()}();